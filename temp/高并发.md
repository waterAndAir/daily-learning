
# 高并发系统的思路
#### 减少请求量：
- 业务方面减少请求量
- 合并请求：css，images，另外考虑后端接口的粒度，
- 边缘加速：静态资源请求，或简单的可以用脚本处理的请求放到定制的 CDN,减少打到后端API的请求量

#### 高性能：
- 空间换时间：缓存，缓冲，数据预读，热点数据特殊处理
- 异步化：MQ，如下单和广告系统计费
- 任务并行化：多个互不依赖的资源，可以并行化处理
- 合适的存储：同步存关系型数据，异步存 Nosql 型数据
- 更快的网络：公网or内网

#### 高扩展：
- 模块拆分，服务化，无状态，单一职责
- 存储拆分，每个服务有独立的数据库，服务之间不公用存储，通过提供接口交换数据

#### 高可用：

#### 高可用建设应该在整个项目的方方面面都要做
- 架构设计：考虑系统的可扩展性和容错性，避免单点，异地多机房部署，业务隔离，部署隔离，数据隔离。比如 transocean 的读写分离；故障转移；限流，自动降级，手动降级，熔断(一种自动降级方式)，过载保护，实时监控报警
- 编码细节：远程调用要设置合理的超时时间，要对无法预料的错误做默认处理。完备的log，tracing，metric。设计限流保护和异步处理。
- 测试发布：测试用例，压测，故障演练，混沌工程，灰度发布，设计紧急回滚机制。
- 故障发生：及时止损，比如及时下架发生错误的商品。故障定位，快速恢复