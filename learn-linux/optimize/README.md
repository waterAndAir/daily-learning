## 性能问题排查步骤


### 平均负载
平均负载的理想情况应该等于 CPU 数，实际中，将超过 CPU 数量的的 70% 作为警告的阈值。
#### 查看平均负载
```shell script
$ uptime
02:34:03 up 2 days, 20:14,  1 user,  load average: 0.63, 0.83, 0.88
```
从左到右依次表示：
- 当前时间
- 系统运行时间
- 正在登录的用户数
- 过去1分钟，5分钟，15分钟的平均负载（Load Average）， 表示平均活跃进程数， 和 CPU 使用率没有直接关系

#### 辨析平均负载和CPU使用率
平均负载： 单位时间内处于可运行状态和不可中断状态的进程数  
CPU 使用率： 单位时间内CPU的繁忙情况  

- CPU 密集型进程： 平均负载和CPU使用率变化一致，都会升高
- I/O 密集型进程： 等待IO属于不可中断状态，平均负载会升高,但 CPU 此时可能在空等，所以使用率不一定高
- 等待CPU调度也会导致平均负载和CPU使用率同时升高

 





